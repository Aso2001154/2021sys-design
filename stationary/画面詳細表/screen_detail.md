```uml
@startuml
[*] --> ホーム
ホーム --> トップページ : トップをクリック
トップページ : do/商品一覧を表示

トップページ -left-> ログインページ : ログインをクリック
ログインページ : entry/id.passwordを入力
ログインページ : do/ログイン認証
ログインページ --> ログイン成功ページ : ログイン成功
ログイン成功ページ --> トップページ : ログイン完了
ログインページ --> ログイン失敗ページ : ログイン失敗
ログイン失敗ページ -left-> ログインページ : 再ログイン

ログインページ --> 新規登録ページ : 新規登録
新規登録ページ --> 登録完了ページ : 登録完了
登録完了ページ --> ログインページ : ログインへ
新規登録ページ --> 登録失敗ページ : 登録失敗
登録失敗ページ --> 新規登録ページ : 再登録

トップページ -> 検索 : 商品検索
検索 -> 検索結果ページ : 検索結果
検索結果ページ --> ジャンルページ : ジャンルをクリック
検索結果ページ --> 商品詳細 : 商品をクリック

トップページ -> 商品詳細 : 商品をクリック
トップページ --> カート : カートをクリック

トップページ --> ログアウトページ : ログアウト
ログアウトページ --> トップページ : ログアウト完了

トップページ --> 履歴ページ : 履歴をクリック
履歴ページ --> トップページ : トップをクリック

トップページ -left-> 会員情報ページ : 会員情報をクリック
会員情報ページ --> 更新完了ページ : 更新成功
更新完了ページ --> ログインページ : ログインへ
会員情報ページ --> 更新失敗ページ : 更新失敗
更新失敗ページ --> トップページ : トップへ

トップページ --> ジャンルページ :  ジャンルをクリック
ジャンルページ --> 商品詳細 : 商品をクリック

商品詳細 --> カート : カートに入れるをクリック
商品詳細 --> トップページ : 前の画面に戻るをクリック
商品詳細 : do/商品説明を表示
カート -up-> トップページ : トップをクリック

state カート内{
カート -> 購入完了ページ : 購入をクリック
カート -left> 削除完了ページ : 削除をクリック
削除完了ページ --> カート : カートをクリック
購入完了ページ -> トップページ : トップをクリック
購入完了ページ : 購入完了
}
@enduml
```
