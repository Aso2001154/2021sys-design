
```uml
@startuml

opt 購入する
ユーザー -> Webサーバー : 購入ボタンクリック

alt 在庫なし
ユーザー -> Webサーバー : カートに追加
Webサーバー -> DBサーバー : 商品照会
DBサーバー -> Webサーバー : 照会結果
Webサーバー -> ユーザー : 在庫結果
else 在庫あり
Webサーバー -> DBサーバー : 購入情報を渡す
DBサーバー -> DBサーバー : 購入された商品の在庫を減らす
DBサーバー -> Webサーバー : 照会結果
Webサーバー -> ユーザー : 購入成功
end

@enduml
```
